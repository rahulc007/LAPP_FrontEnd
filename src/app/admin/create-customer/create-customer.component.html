<div *ngIf="msg" class="alert alert-success alert-dismissible" data-auto-dismiss role="alert">
    <button class="close" aria-label="close" data-dismiss="alert">&times;</button>
    <span id="alertMsg">{{msg}}</span>
</div>
<div *ngIf="errorMsg" class="alert alert-danger alert-dismissible" data-auto-dismiss role="alert">
    <button class="close" aria-label="close" data-dismiss="alert">&times;</button>
    <span id="alertErrMsg">{{errorMsg}}</span>
</div>
 <!-- <div *ngIf="msg" class="alert alert-success" role="alert">
    {{msg}}
  </div>
  <div *ngIf="errorMsg" class="alert alert-danger" role="alert">
    {{errorMsg}}
</div> -->

<form [formGroup]="customerForm" #form="ngForm" class="siz">

    <div class="row">
        <div class="col-md-6">
            <input placeholder="First Name" type="text" formControlName="fname" maxlength="60" class="form-control" required />
            <div *ngIf="customerForm.controls.fname.invalid && (customerForm.controls.fname.dirty || customerForm.controls.fname.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.fname.errors.required" class="custom">{{'firstnamerequired'| translate}}</div>
            </div>
        </div>

        <div class="col-md-6">
            <input placeholder="Last Name" type="text" formControlName="lname" maxlength="60" class="form-control" required>
            <div *ngIf="customerForm.controls.lname.invalid && (customerForm.controls.lname.dirty || customerForm.controls.lname.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.lname.errors.required" class="custom">{{'lastnamerequired'| translate}}</div>
            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-md-6 form-group">
            <input placeholder="Email Id" formControlName="email" class="form-control" maxlength="60" type="text" required>
            <div *ngIf="customerForm.controls.email.invalid && (customerForm.controls.email.dirty || customerForm.controls.email.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.email.errors.required" class="custom">{{'emailrequired'| translate}}</div>
                <div *ngIf="customerForm.controls.email.errors.email" class="custom">{{'emailvalid'| translate}}</div>
            </div>
        </div>

        <div class="col-md-6 form-group">
            <input placeholder="Your User ID" type="text" class="form-control" maxlength="60" formControlName="userid" required>
            <div *ngIf="customerForm.controls.userid.invalid && (customerForm.controls.userid.dirty || customerForm.controls.userid.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.userid.errors.required" class="custom">{{'useridrequired'| translate}}</div>
            </div>
        </div>

    </div> 

    <div id="country" class="row">
        <div class="col-md-3 mr-5 form-group">
            <input type="text" class="form-control" formControlName="country" [(ngModel)]="country"
                (click)="countryclear()" (change)="getState()" placeholder="Country" list="codes" step="5" min="5"
                max="200" required />
            <datalist id="codes">
                <select class="scrollbar">
                    <option *ngFor="let item of countryData" [value]="item.CountryName"></option>
                </select>
            </datalist>
        </div>

        <div class="col-md-3 ml-4 mr-4 form-group">
            <input type="text" class="form-control" formControlName="State" [(ngModel)]="state" (click)="stateClear()"
                (change)="getCities()" placeholder="State" list="statecodes" step="5" min="5" max="200" required />
            <datalist id="statecodes">
                <select class="scrollbar">
                    <option *ngFor="let item of stateData" [value]="item.StateName"></option>
                </select>
            </datalist>

        </div>

        <div class="col-md-3 ml-5 form-group">
            <input type="text" class="form-control" formControlName="City" [(ngModel)]="city" (click)="cityClear()"
                placeholder="City" list="citycodes" step="5" min="5" max="200" required />
            <datalist id="citycodes">
                <select class="scrollbar">
                    <option *ngFor="let item of citiesData" [value]="item"></option>
                </select>
            </datalist>
        </div>
    </div> 
 
    <div class="row">
        <div class="col-md-6 form-group">

            <input placeholder="Phone Number" type="text" class="form-control" maxlength="12" formControlName="phone" required>
            <div *ngIf="customerForm.controls.phone.invalid && (customerForm.controls.phone.dirty || customerForm.controls.phone.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.phone.errors.required" class="custom">{{'phonenumberrequired'| translate}}</div>
                <div *ngIf="customerForm.controls.phone.errors.pattern" class="custom">{{'phonenumbervalid' | translate}}</div>
                <div *ngIf="customerForm.controls.phone.errors.minlength" class="custom">{{'phonenumberdigit'| translate}}</div>

            </div>
        </div> 
        <!-- <div class="col-md-6 form-group">
                    <input placeholder="Reference Code" type="text" class="form-control" formControlName="referncecode" [ngClass]="{ 'is-invalid': submitted && customerForm.controls.referncecode.errors }" required>
                    <div *ngIf="submitted && customerForm.controls.referncecode.errors" class="text-danger">
                          <div *ngIf="customerForm.controls.referncecode.errors.required" class="custom">Reference Code is required</div>
                      </div>
            </div>  -->
         <div class="col-md-6  form-group">
            <input type="text" class="form-control" formControlName="usertype" [(ngModel)]='usertype' (click)="clear()"
                placeholder="User Type" list="usertypecodes" step="5" min="5" max="200" required />
            <datalist id="usertypecodes">
                <select class="scrollbar">
                    <option *ngFor="let item of usertypeData" [value]="item.type"></option>
                </select>
            </datalist>
            <div *ngIf="customerForm.controls.usertype.invalid && (customerForm.controls.usertype.dirty || customerForm.controls.usertype.touched)" class="text-danger">
                <div *ngIf="customerForm.controls.usertype.errors.required" class="custom">{{'usertyperequired'| translate}}</div>
            </div>
        </div>
    </div> 

    <div id="createUser" class="row">
        <div class="col-md-6 offset-md-5">
            <button  (click)="formSubmit()" [disabled]="customerForm.pristine || customerForm.invalid"  class="btn btn-primary">{{'submit'| translate}}</button>
        </div>
    </div>

</form>
<div class="container">
        <div class="border mt-3 p-5">
            <app-ngx-easy-table [configuration]="configuration" [data]="usersData" [columns]="columns">
            </app-ngx-easy-table>
            <!-- <app-pagination [pager]=pager (clicked)="loadPage($event)"></app-pagination> -->
        </div>
</div>

